<!DOCTYPE html>
<html>
  <head>
    <title>📅 Date-Wise & Time-Wise Class Schedule Test</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        min-height: 100vh;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }
      .status {
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
        border-left: 5px solid;
      }
      .success {
        background: rgba(34, 197, 94, 0.2);
        border-color: #22c55e;
        color: #dcfce7;
      }
      .info {
        background: rgba(59, 130, 246, 0.2);
        border-color: #3b82f6;
        color: #dbeafe;
      }
      .warning {
        background: rgba(245, 158, 11, 0.2);
        border-color: #f59e0b;
        color: #fef3c7;
      }
      h1 {
        text-align: center;
        margin-bottom: 30px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-size: 2.5em;
        font-weight: bold;
      }
      h2 {
        color: #fbbf24;
        border-bottom: 2px solid #fbbf24;
        padding-bottom: 10px;
      }
      h3 {
        color: #34d399;
      }
      code {
        background: rgba(0, 0, 0, 0.3);
        padding: 2px 8px;
        border-radius: 5px;
        font-family: "Courier New", monospace;
        color: #fbbf24;
      }
      .feature {
        background: rgba(139, 92, 246, 0.2);
        border: 1px solid #8b5cf6;
        border-radius: 10px;
        padding: 20px;
        margin: 15px 0;
      }
      .test-button {
        display: inline-block;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        padding: 15px 30px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: bold;
        margin: 10px;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        font-size: 16px;
      }
      .test-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }
      ul li {
        margin: 10px 0;
        padding-left: 10px;
      }
      .schedule-demo {
        background: rgba(0, 0, 0, 0.2);
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: monospace;
        color: #e5e7eb;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>📅 Date-Wise & Time-Wise Class Schedule</h1>

      <div class="success">
        <h2>✅ FIXED: Perfect Date-Wise Class Organization!</h2>
        <p><strong>Your classes are now properly organized:</strong></p>
        <ul>
          <li>
            🗓️ <strong>Date-Wise:</strong> Classes appear on specific dates
            (e.g., Monday Jan 13, Tuesday Jan 14)
          </li>
          <li>
            ⏰ <strong>Time-Wise:</strong> Classes appear at exact times (07:30,
            08:30, 09:00, etc.)
          </li>
          <li>
            📋 <strong>Day-Wise:</strong> Monday classes on Monday, Tuesday
            classes on Tuesday
          </li>
          <li>
            🔄 <strong>Weekly Recurring:</strong> Classes repeat every week
            automatically
          </li>
        </ul>
      </div>

      <div class="info">
        <h2>🎯 How It Works Now:</h2>
        <ul>
          <li>
            📤 <strong>Upload timetable</strong> → AI extracts classes by day
            (Monday-Friday)
          </li>
          <li>
            📅 <strong>Date Generation:</strong> System creates classes for
            specific dates in current week
          </li>
          <li>
            ⏰ <strong>Time Mapping:</strong> Classes appear in correct time
            slots on weekly calendar
          </li>
          <li>
            🔄 <strong>Auto-Recurring:</strong> When you change week, classes
            automatically appear on new dates
          </li>
        </ul>
      </div>

      <div class="feature">
        <h3>📊 Schedule Example:</h3>
        <div class="schedule-demo">
          📅 CURRENT WEEK: Jan 13-19, 2025 📅 MONDAY (Jan 13, 2025) ⏰ 07:30 -
          UI/UX Design • MA201 • Prof. Smith ⏰ 08:30 - Biotechnology Lab •
          MA206 • Dr. Kumar ⏰ 09:00 - Project Session • MA213-A 📅 TUESDAY (Jan
          14, 2025) ⏰ 07:30 - Biotechnology Theory • MA206 • Dr. Kumar ⏰ 08:30
          - NLP • MA206 • Dr. Chen ⏰ 09:00 - UI/UX Workshop • MA205 📅
          WEDNESDAY (Jan 15, 2025) ⏰ 07:30 - NLP Advanced • MA206 • Dr. Chen ⏰
          09:00 - Cloud Development • MB302
        </div>
      </div>

      <div class="warning">
        <h2>🔧 What Was Fixed:</h2>
        <ul>
          <li>
            ❌ <strong>Before:</strong> Classes had placeholder dates, didn't
            appear in calendar
          </li>
          <li>
            ✅ <strong>Now:</strong> Classes have specific dates matching
            current week
          </li>
          <li>
            ❌ <strong>Before:</strong> Time matching was too loose, classes
            appeared everywhere
          </li>
          <li>
            ✅ <strong>Now:</strong> Precise time matching (±30 minutes for
            accurate display)
          </li>
          <li>
            ❌ <strong>Before:</strong> Classes didn't update when changing
            weeks
          </li>
          <li>
            ✅ <strong>Now:</strong> Classes automatically regenerate for new
            week dates
          </li>
        </ul>
      </div>

      <div class="success">
        <h2>🚀 Test Instructions:</h2>
        <ol>
          <li>🌐 <strong>Open the app</strong> using the button below</li>
          <li>🗝️ <strong>Unlock Skippy</strong> (enter any password)</li>
          <li>📑 <strong>Go to "AI Chat" tab</strong></li>
          <li>
            📤 <strong>Upload</strong>
            <code>test-expert-timetable.txt</code> file
          </li>
          <li>
            ⏳ <strong>Wait for AI extraction</strong> (watch console for
            "Google Calendar" style output)
          </li>
          <li>📅 <strong>Go to "Weekly Calendar" tab</strong></li>
          <li>
            👀 <strong>See classes on specific dates</strong> in proper time
            slots!
          </li>
        </ol>
      </div>

      <div style="text-align: center; margin: 30px 0">
        <button
          class="test-button"
          onclick="window.open('http://localhost:8080/', '_blank')"
        >
          🚀 Test Date-Wise Class Schedule
        </button>
        <button
          class="test-button"
          onclick="window.open('file:///d:/aanirma/skippy-rakhi-verse-main/test-expert-timetable.txt', '_blank')"
        >
          📄 View Test Timetable File
        </button>
      </div>

      <div class="info">
        <h2>🎉 Expected Results:</h2>
        <ul>
          <li>
            📅 <strong>Monday Jan 13:</strong> See UI/UX Design at 07:30,
            Biotechnology at 08:30
          </li>
          <li>
            📅 <strong>Tuesday Jan 14:</strong> See Biotechnology Theory at
            07:30, NLP at 08:30
          </li>
          <li>
            📅 <strong>Wednesday Jan 15:</strong> See NLP Advanced at 07:30,
            Cloud Dev at 09:00
          </li>
          <li>
            🔄 <strong>Week Navigation:</strong> Change week and see classes on
            new dates
          </li>
          <li>
            🗑️ <strong>Delete Function:</strong> Remove individual classes or
            all classes
          </li>
        </ul>
      </div>

      <div class="feature">
        <h3>🔍 Console Debug:</h3>
        <p>
          Press <strong>F12</strong> and check Console tab for detailed logs:
        </p>
        <ul>
          <li>
            <code>📅 Generating timetable for week starting: [date]</code>
          </li>
          <li><code>📅 Monday (2025-01-13): X classes</code></li>
          <li><code>⏰ 07:30 - UI/UX Design in MA201</code></li>
          <li>
            <code>🔍 Looking for items on Monday (2025-01-13) at 07:30</code>
          </li>
          <li><code>✅ Found: UI/UX Design at 07:30 (2025-01-13)</code></li>
        </ul>
      </div>
    </div>

    <script>
      console.log("📅 Date-Wise Class Schedule Test Page Ready!");
      console.log(
        "🎯 Testing: Date-wise, day-wise, and time-wise class organization"
      );

      const currentDate = new Date();
      const weekStart = new Date(currentDate);
      const day = weekStart.getDay();
      const diff = weekStart.getDate() - day + (day === 0 ? -6 : 1);
      weekStart.setDate(diff);

      console.log("📅 Current week starts:", weekStart.toDateString());

      const days = [
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday",
        "Sunday",
      ];
      for (let i = 0; i < 7; i++) {
        const dayDate = new Date(weekStart);
        dayDate.setDate(weekStart.getDate() + i);
        console.log(
          `📅 ${days[i]}: ${dayDate.toDateString()} (${
            dayDate.toISOString().split("T")[0]
          })`
        );
      }
    </script>
  </body>
</html>
